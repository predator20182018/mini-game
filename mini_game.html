<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏–Ω–∏-–∏–≥—Ä–∞ üéÆ</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #f0f0f0;
            font-family: sans-serif;
        }
        #touch-area { /* –≠—Ç–æ—Ç div —Ç–µ–ø–µ—Ä—å —Å–ª—É–∂–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º */
            width: 100%;
            height: 100%;
            position: relative; /* –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #touch-button { /* –°—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ */
            width: 80%;  /* –®–∏—Ä–∏–Ω–∞ –∫–Ω–æ–ø–∫–∏ */
            height: 80%; /* –í—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ */
            background-color: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç */
            color: white;
            font-size: 24px;
            border: none;
            border-radius: 10px;
            cursor: pointer; /* –ö—É—Ä—Å–æ—Ä-—É–∫–∞–∑–∞—Ç–µ–ª—å */
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;  /* –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ */
        }
        #touch-button:active {
            background-color: #367c39; /* –¢–µ–º–Ω–æ-–∑–µ–ª–µ–Ω—ã–π –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ */
        }
        /* –°—á–µ—Ç—á–∏–∫ –∫–∞—Å–∞–Ω–∏–π */
        #touch-counter {
            position: fixed;
            top: 10px;
            left: 10px;
            color: white;
            font-size: 20px;
            z-index: 1000;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 5px;
            border-radius: 5px;
        }

    </style>
</head>
<body>
    <div id="touch-counter">–ö–∞—Å–∞–Ω–∏–π: 0</div>
    <div id="touch-area">
        <button id="touch-button">–ù–∞–∂–º–∏ –º–µ–Ω—è!</button>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;

        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
        const touchButton = document.getElementById('touch-button');
        const touchCounter = document.getElementById('touch-counter');

        // –°—á–µ—Ç—á–∏–∫ –∫–∞—Å–∞–Ω–∏–π
        let touchCount = 0;

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
        function updateCounter() {
            touchCounter.textContent = `–ö–∞—Å–∞–Ω–∏–π: ${touchCount}`;
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É
        function handleButtonClick(event) {
            event.preventDefault();

            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
            touchCount++;
            updateCounter();

            // –í–∏–±—Ä–∞—Ü–∏—è
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É
            tg.sendData(JSON.stringify({ type: 'button_press' })); //–î—Ä—É–≥–æ–π —Ç–∏–ø
        }

          // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å—á–µ—Ç—á–∏–∫–∞ (–ø–æ –¥–≤–æ–π–Ω–æ–º—É –∫–ª–∏–∫—É/—Ç–∞–ø—É)
        let lastTap = 0;
        touchButton.addEventListener('touchend', (event) => {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            if (tapLength < 300 && tapLength > 0) {
                event.preventDefault();
                touchCount = 0;
                updateCounter();

                if (tg.HapticFeedback) {
                    tg.HapticFeedback.notificationOccurred('success');
                }
            }
            lastTap = currentTime;
        });

        touchButton.addEventListener('dblclick', () => {
            touchCount = 0;
            updateCounter();
            if (tg.HapticFeedback) {
                    tg.HapticFeedback.notificationOccurred('success');
                }
        });

        // –í–µ—à–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π *–Ω–∞ –∫–Ω–æ–ø–∫—É*
        touchButton.addEventListener('click', handleButtonClick);
        touchButton.addEventListener('touchstart', handleButtonClick, { passive: false });


        tg.expand();
        tg.ready();
    </script>
</body>
</html>